<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8" />
    <link rel="stylesheet" href="style.css">
    <script src="http://code.jquery.com/jquery-1.6.4.min.js"></script>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.2.0/css/all.css">
    <title>æ—¥æœ¬ä»£è¡¨å¿œæ´</title>

</head>

<body>
    <div class="title">
        <Marquee>ï½æ—¥æœ¬ä»£è¡¨ğŸŒå¿œæ´ï½ã‚µãƒƒã‚«ãƒ¼ãƒ¯ãƒ¼ãƒ«ãƒ‰ã‚«ãƒƒãƒ—2022 12/2 VSã‚¹ãƒšã‚¤ãƒ³</Marquee>
    </div>
    <div class="rogo">
        <a href="http://www.jfa.jp/"><img src="img/1.png" alt="ä»£è¡¨ãƒãƒ¼ã‚¯"></a>
    </div>
    <div class="ball">
        <a
            href="https://www.google.com/search?q=%E3%83%AF%E3%83%BC%E3%83%AB%E3%83%89%E3%82%AB%E3%83%83%E3%83%97&rlz=1C1TKQJ_jaJP1025JP1025&sxsrf=ALiCzsYDDpbsPlZFE01eH96A1tSlOzctfg%3A1669698837368&ei=FZWFY-yMFsPi-Abjyq74DA&ved=0ahUKEwis69Tw0NL7AhVDMd4KHWOlC88Q4dUDCA8&uact=5&oq=%E3%83%AF%E3%83%BC%E3%83%AB%E3%83%89%E3%82%AB%E3%83%83%E3%83%97&gs_lcp=Cgxnd3Mtd2l6LXNlcnAQAzITCAAQBBCABBCxAxCDARCxAxCDATIICAAQsQMQgwEyCAgAELEDEIMBMhMIABAEEIAEELEDEIMBELEDEIMBMggIABCxAxCDATIICAAQsQMQgwEyBwgAEAQQgAQyCAgAELEDEIMBMggIABCxAxCDATIICAAQsQMQgwE6CggAEEcQ1gQQsANKBAhBGABKBAhGGABQ9xZY9xZgmRpoA3AAeACAAWOIAWOSAQExmAEAoAEByAEKwAEB&sclient=gws-wiz-serp#sie=lg;/m/0fp_8fm;2;/m/030q7;mt;fp;1;;;"><img
                src="img/ball.png" alt="æ—¥ç¨‹" width="200" height="200" class="hover6"></a>
        <a href="https://www.jfa.jp/samuraiblue/squad2022/"><img src="img/ball.png" alt="ãƒ¡ãƒ³ãƒãƒ¼" width="200" height="200"
                class="hover6"></a>
        <a
            href="https://www.google.com/search?q=%E6%97%A5%E6%9C%AC%E4%BB%A3%E8%A1%A8+%E3%82%B0%E3%83%AB%E3%83%BC%E3%83%97e&rlz=1C1TKQJ_jaJP1025JP1025&sxsrf=ALiCzsYu6D-HGuOf_SWB_0y_HXG09qNfgA%3A1669699134297&ei=PpaFY47YEZGL2roPs5usoAk&oq=%E6%97%A5%E6%9C%AC%E4%BB%A3%E8%A1%A8+guru-pu&gs_lcp=Cgxnd3Mtd2l6LXNlcnAQARgBMgwIABAEEIAEEEYQ_QEyBwgAEAQQgAQyBwgAEAQQgAQyBwgAEAQQgAQyBwgAEAQQgAQ6CggAEEcQ1gQQsAM6BAgjECc6CAgAELEDEIMBOhkIABAEEIAEELEDEIMBELEDEIMBELEDEIMBOgYIABAEEANKBAhBGABKBAhGGABQnwdY4D9gkFJoAXAAeACAAXqIAdMGkgEDMS43mAEAoAEByAEKwAEB&sclient=gws-wiz-serp#sie=t;/m/03xh50;2;/m/030q7;st;fp;1;;;"><img
                src="img/ball.png" alt="é †ä½è¡¨" width="200" height="200" class="hover6"></a>
        <a href=""><img src="img/ball.png" alt="å…¬å¼çƒ" width="200" height="200" class="hover6"></a>
    </div>
    <form>
        <div class="field">
            <fieldset style="width: 100px;">
                <legend>å¿œæ´å…¥åŠ›ç”»é¢</legend>
                <div>åå‰: <input type="text" id="name"></div>
                <div>å¿œæ´æ–‡: <input type="text" class="text"></div>
                <button type="button" id="send">å¿œæ´</button>
            </fieldset>
        </div>
    </form>
    <div class="message">
        <h2>~ã¿ã‚“ãªã®å¿œæ´~</h2>
    </div>
    <!-- ãƒ‡ãƒ¼ã‚¿å‡ºåŠ›å ´æ‰€ -->
    <div class="ouen-text">
        <ul id="output"></ul>
    </div>
    <!-- ãƒœã‚¿ãƒ³ä½œæˆ -->
    <div id="page-top">
        <!-- å¥½ããªã‚¢ã‚¤ã‚³ãƒ³ã‚’é¸æŠ -->
        <i class="fa-sharp fa-solid fa-futbol"></i>
    </div>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">


    <audio controls autoplay src="music/background.mp3"></audio>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

    <script>
        // æ—¥æ™‚ã‚’ã„ã„æ„Ÿã˜ã®å½¢å¼ã«ã™ã‚‹é–¢æ•°
        function convertTimestampToDatetime(timestamp) {
            const _d = timestamp ? new Date(timestamp * 1000) : new Date();
            const Y = _d.getFullYear();
            const m = (_d.getMonth() + 1).toString().padStart(2, '0');
            const d = _d.getDate().toString().padStart(2, '0');
            const H = _d.getHours().toString().padStart(2, '0');
            const i = _d.getMinutes().toString().padStart(2, '0');
            const s = _d.getSeconds().toString().padStart(2, '0');
            return `${Y}/${m}/${d} ${H}:${i}:${s}`;
        }
    </script>
    <script type="module">
        // Import the functions you need from the SDKs you need
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.14.0/firebase-app.js";
        // ğŸ”½ è¿½åŠ  / `9.2.0`ã®éƒ¨åˆ†ã‚’â†‘ã®Firestoreã‹ã‚‰è²¼ã‚Šä»˜ã‘ãŸã‚³ãƒ¼ãƒ‰ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã«åˆã‚ã›ã‚‹
        import {
            getFirestore,
            collection,
            addDoc,
            serverTimestamp,
            query,
            orderBy,
            onSnapshot,
        } from "https://www.gstatic.com/firebasejs/9.14.0/firebase-firestore.js";


        // TODO: Add SDKs for Firebase products that you want to use
        // https://firebase.google.com/docs/web/setup#available-libraries

        // Your web app's Firebase configuration
        const firebaseConfig = {
            apiKey: ,
            authDomain: "chat-app-test-01-b7bad.firebaseapp.com",
            projectId: "chat-app-test-01-b7bad",
            storageBucket: "chat-app-test-01-b7bad.appspot.com",
            messagingSenderId: "495581034538",
            appId: "1:495581034538:web:7368bc52967bbca2c56b53"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        // ğŸ”½ è¿½åŠ 
        const db = getFirestore(app);

        $("#send").on("click", function () {
            const postData = {
                name: $("#name").val(),
                text: $("#text").val(),
                time: serverTimestamp(),
            };
            addDoc(collection(db, "chat"), postData);
            $("#text").val("");
        })
        // ãƒ‡ãƒ¼ã‚¿å–å¾—å‡¦ç†
        const q = query(collection(db, "chat"), orderBy("time", "desc"));


        onSnapshot(q, (querySnapshot) => {

            const documents = [];
            querySnapshot.docs.forEach(function (doc) {
                const document = {
                    id: doc.id,
                    data: doc.data(),
                };
                documents.push(document);
            });

            console.log(documents);
            const htmlElements = [];
            documents.forEach(function (document) {
                htmlElements.push(`
    <li id="${document.id}">
      <p>${document.data.name} at  ${convertTimestampToDatetime(document.data.time.seconds)}</p>
      <p>${document.data.text}</p>
    </li>
  `);
            });

            $("#output").html(htmlElements);

        });
    </script>
    <script>
        $(function () {
            // å¤‰æ•°å®£è¨€ã¨ä»£å…¥
            let pageTop = $('#page-top');
            // ãƒœã‚¿ãƒ³éè¡¨ç¤º
            pageTop.hide();
            // 80pxã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã—ãŸã‚‰ãƒœã‚¿ãƒ³è¡¨ç¤º
            $(window).scroll(function () {
                if ($(this).scrollTop() > 60) {
                    // 0.3ç§’ã§ãƒ•ã‚§ãƒ¼ãƒ‰ã‚¤ãƒ³
                    pageTop.fadeIn(300);
                } else {
                    // 0.3ç§’ã§ãƒ•ã‚§ãƒ¼ãƒ‰ã‚¢ã‚¦ãƒˆ
                    pageTop.fadeOut(300);
                }
            });
            // 0.5ç§’ã§ãƒšãƒ¼ã‚¸ãƒˆãƒƒãƒ—ã¸æˆ»ã‚‹
            pageTop.click(function () {
                $('body, html').animate({ scrollTop: 0 }, 300);
                return false;
            })
        })
    </script>


</body>

</html>